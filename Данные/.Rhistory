data <- read.csv("C:\Users\nagal\OneDrive\GitHub\coursework2023\Данные\Оценка тур потока с 2022.xlsx", fileEncoding = "Windows-1251", header = TRUE, sep = ";", check.names = F)
data <- read.csv("C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/Оценка тур потока с 2022.xlsx", fileEncoding = "Windows-1251", header = TRUE, sep = ";", check.names = F)
View(data)
data <- read.csv("C:/Users/nagal/OneDrive/GitHub/coursework2023/test.xlsx", fileEncoding = "Windows-1251", header = TRUE, sep = ";", check.names = F)
data <- read.csv("C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xlsx", fileEncoding = "Windows-1251", header = TRUE, sep = ";", check.names = F)
View(data)
library(readxl)
library(readxl)
library(readxl)
file_path <- "C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xls"
#data <- read.csv("C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xlsx", fileEncoding = "Windows-1251", header = TRUE, sep = ";", check.names = F)
my_data <- read_excel(file_path)
library(readxl)
file_path <- "C:\Users\nagal\OneDrive\GitHub\coursework2023\Данные\test.xls"
my_data <- read_excel(file_path)
install.packages("readxl")
install.packages("readxl")
install.packages("readxl")
install.packages("readxl")
file_path <- "C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xls"
#data <- read.csv("C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xlsx", fileEncoding = "Windows-1251", header = TRUE, sep = ";", check.names = F)
my_data <- read_excel(file_path)
library(readxl)
file_path <- "C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xls"
#data <- read.csv("C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xlsx", fileEncoding = "Windows-1251", header = TRUE, sep = ";", check.names = F)
my_data <- read_excel(file_path)
library(readxl)
file_path <- "C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xlsx"
#data <- read.csv("C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xlsx", fileEncoding = "Windows-1251", header = TRUE, sep = ";", check.names = F)
my_data <- read_excel(file_path)
View(my_data)
library(readxl)
my_data <- read_excel("C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные/test.xlsx")
View(my_data)
data<-my_data[,2:12]
View(data)
hist(data,main="Гистограмма",
xlab="Баллы", ylab="Частота")
View(data)
hist(data$`январь-сентябрь 2022`,main="Гистограмма по столбцу Плотва",
xlab="Баллы", ylab="Частота")
print('Рабочая директория: ')
getwd()
View(my_data)
View(data)
travel_industry<-read_excel("Туриндустрия.xlsx")
library(readxl)
library(tidyr)
library(ggplot2)
library(dplyr)
setwd("C:/Users/nagal/OneDrive/GitHub/coursework2023/Данные")
travel_industry<-read_excel("Туриндустрия.xlsx")
#Все организации
number_organ<- rbind(travel_industry[1:1, ])
number_organ_long<-gather(number_organ,key="Год",value="Количество", -Наименование)
ggplot(number_organ_long, aes(x = Год, y = Количество, fill = Наименование)) +
geom_bar(stat = "identity", position = "dodge")
#Путешествия по россии за 2022 общее по округам
In_Russian_all <- read_excel("Внутри России общее.xlsx")
In_Russian_all <- In_Russian_all %>% mutate(row = row_number())
Color_in_Russian_all <- rainbow(length(In_Russian_all$Округа))
ggplot(In_Russian_all, aes(x = row, y = `2022` / 1000, color = Округа, group = 1)) +
geom_line(color = "black", size = 0.3) +
geom_point(shape = 19) +
scale_x_continuous(name = "", breaks = 1:nrow(In_Russian_all)) +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_all$'2022'/1000))) +
labs(title = "Общее количесво человек, путешевствующих по общим областям в 2022 году") +
theme_bw() +
guides(color=guide_legend(title="Округа")) +
scale_color_manual(name = "Округа", values = Color_in_Russian_all)
legend <- In_Russian_all %>% select(Округа) %>% unique()
ggplot2::guides(color=guide_legend(title="Округа")) +
scale_color_manual(name = "Округа", values = Color_in_Russian_all)
# Создание тестовых данных
df <- data.frame(
Group = c("Group A", "Group B", "Group C", "Group D"),
Value = c(20, 35, 10, 30)
)
# Создание графика
ggplot(df, aes(x = Group, y = Value)) +
geom_bar(stat = "identity", fill = "steelblue") +
labs(x = "Группа", y = "Значение", title = "График столбчатой диаграммы")
#Общее количество приезжих по страннам за 9 лет
inbound_tours<-read_excel("Въездные турпоездки.xlsx")
all_inbound_tours<-data.frame(Страна=inbound_tours$Страна, ОбщееКоличество=rowSums(inbound_tours[,2:10]))
#all_inbound_tours<-all_inbound_tours[all_inbound_tours$ОбщееКоличество < 15000,]
plot(all_inbound_tours$ОбщееКоличество, type="b", pch=19, col="navyblue",
xaxt="n",xlim=c(0,length(all_inbound_tours$Страна)), ylim=c(0,max(all_inbound_tours$ОбщееКоличество)),xlab='', ylab="Количество человек",
main="Общее количество приезжих по страннам за 9 лет")
axis(1, at = 1:nrow(all_inbound_tours), labels=all_inbound_tours$Страна,las=2)
inbound_tours<-read_excel("Въездные турпоездки.xlsx")
all_inbound_tours<-data.frame(Страна=inbound_tours$Страна, ОбщееКоличество=rowSums(inbound_tours[,2:10]))
all_inbound_tours<-all_inbound_tours[all_inbound_tours$ОбщееКоличество < 15000,]
plot(all_inbound_tours$ОбщееКоличество, type="b", pch=19, col="navyblue",
xaxt="n",xlim=c(0,length(all_inbound_tours$Страна)), ylim=c(0,max(all_inbound_tours$ОбщееКоличество)),xlab='', ylab="Количество человек",
main="Общее количество приезжих по страннам за 9 лет")
axis(1, at = 1:nrow(all_inbound_tours), labels=all_inbound_tours$Страна,las=2)
inbound_tours<-read_excel("Въездные турпоездки.xlsx")
#inbound_tours2<-inbound_tours[,2:10]
colors <- rainbow(length(inbound_tours$Страна))
#par(mfrow=c(1,9))
#ВЪЕЗДНЫЕ
#пироговые диаграммы по число въездных туристских поездок иностранных граждан в Россию в N году
pie(inbound_tours$'2014',  labels=NA, radius = 1, col = colors, clockwise = TRUE,
main = "Число въездных туристских поездок\nиностранных граждан в Россию в 2014 году")
legend("topleft", legend = inbound_tours$Страна[1:(nrow(inbound_tours)/2)],
fill = colors[1:length(colors)/2], cex = 0.47)
legend("topright", legend = inbound_tours$Страна[(nrow(inbound_tours)/2 + 1):nrow(inbound_tours)],
fill = colors[(length(colors)/2 + 1):length(colors)], cex = 0.47)
pie(inbound_tours$'2015',  labels=NA, radius = 1, col = colors, clockwise = TRUE,
main = "Число въездных туристских поездок\nиностранных граждан в Россию в 2015 году")
legend("topleft", legend = inbound_tours$Страна[1:(nrow(inbound_tours)/2)],
fill = colors[1:length(colors)/2], cex = 0.47)
legend("topright", legend = inbound_tours$Страна[(nrow(inbound_tours)/2 + 1):nrow(inbound_tours)],
fill = colors[(length(colors)/2 + 1):length(colors)], cex = 0.47)
#Общее количество уезжих по страннам за 9 лет
all_field_tours<-data.frame(Страна=field_tours$Страна, ОбщееКоличество=rowSums(field_tours[,2:10]))
field_tours<-read_excel("Выездные турпоездки.xlsx")
#inbound_tours2<-inbound_tours[,2:10]
field_tours_colors <- rainbow(length(field_tours$Страна))
#Общее количество уезжих по страннам за 9 лет
all_field_tours<-data.frame(Страна=field_tours$Страна, ОбщееКоличество=rowSums(field_tours[,2:10]))
plot(all_field_tours$ОбщееКоличество, type="b", pch=19, col="navyblue",
xaxt="n",xlim=c(0,66), ylim=c(0,max(all_field_tours$ОбщееКоличество)),xlab='', ylab="Количество человек",
main="Общее количество приезжих по страннам за 9 лет")
axis(1, at = 1:nrow(all_field_tours), labels=all_field_tours$Страна,las=2)
all_field_tours <- data.frame(Страна = field_tours$Страна,
ОбщееКоличество = rowSums(field_tours[, 2:10]))
ggplot(all_field_tours, aes(x = Страна, y = ОбщееКоличество)) +
geom_bar(stat = "identity", fill = "navyblue", color = "black") +
labs(x = "", y = "Количество человек",
title = "Общее количество приезжих по страннам за 9 лет") +
scale_x_discrete(labels = all_field_tours$Страна,
limits = all_field_tours$Страна) +
coord_flip() +
theme_bw()
inbound_tours<-read_excel("Въездные турпоездки.xlsx")
all_inbound_tours<-data.frame(Страна=inbound_tours$Страна, ОбщееКоличество=rowSums(inbound_tours[,2:10]))
#all_inbound_tours<-all_inbound_tours[all_inbound_tours$ОбщееКоличество < 15000,]
plot(all_inbound_tours$ОбщееКоличество, type="b", pch=19, col="navyblue",
xaxt="n",xlim=c(0,length(all_inbound_tours$Страна)), ylim=c(0,max(all_inbound_tours$ОбщееКоличество)),xlab='', ylab="Количество человек",
main="Общее количество приезжих по страннам за 9 лет")
axis(1, at = 1:nrow(all_inbound_tours), labels=all_inbound_tours$Страна,las=2)
all_inbound_tours<-data.frame(Страна=inbound_tours$Страна, ОбщееКоличество=rowSums(inbound_tours[,2:10]))
ggplot(all_inbound_tours, aes(x = Страна, y = ОбщееКоличество)) +
geom_bar(stat = "identity", fill = "navyblue", color = "black") +
labs(x = "", y = "Количество человек",
title = "Общее количество приезжих по страннам за 9 лет") +
scale_x_discrete(labels = all_inbound_tours$Страна,
limits = all_inbound_tours$Страна) +
coord_flip() +
theme_bw()
field_tours<-read_excel("Выездные турпоездки.xlsx")
#inbound_tours2<-inbound_tours[,2:10]
field_tours_colors <- rainbow(length(field_tours$Страна))
#пироговые диаграммы числа выездных туристских поездок граждан России в зарубежные страны
pie(field_tours$'2014',  labels=NA, radius = 1, col = field_tours_colors, clockwise = TRUE,
main = "Число выездных туристских поездок\nграждан России в зарубежные страны в 2014 году")
legend("topleft", legend = field_tours$Страна[1:(nrow(field_tours)/2)],
fill = field_tours_colors[1:length(field_tours_colors)/2], cex = 0.47)
legend("topright", legend = field_tours$Страна[(nrow(field_tours)/2 + 1):nrow(field_tours)],
fill = field_tours_colors[(length(field_tours_colors)/2 + 1):length(field_tours_colors)], cex = 0.47)
pie(field_tours$'2022.5',  labels=NA, radius = 1, col = field_tours_colors, clockwise = TRUE,
main = "Число выездных туристских поездок\nграждан России в зарубежные страны в 2022 году")
legend("topleft", legend = field_tours$Страна[1:(nrow(field_tours)/2)],
fill = field_tours_colors[1:length(field_tours_colors)/2], cex = 0.47)
legend("topright", legend = field_tours$Страна[(nrow(field_tours)/2 + 1):nrow(field_tours)],
fill = field_tours_colors[(length(field_tours_colors)/2 + 1):length(field_tours_colors)], cex = 0.47)
#Общее количество уезжих по страннам за 9 лет
all_field_tours <- data.frame(Страна = field_tours$Страна,
ОбщееКоличество = rowSums(field_tours[, 2:10]))
ggplot(all_field_tours, aes(x = Страна, y = ОбщееКоличество)) +
geom_bar(stat = "identity", fill = "navyblue", color = "black") +
labs(x = "", y = "Количество человек",
title = "Общее количество приезжих по страннам за 9 лет") +
scale_x_discrete(labels = all_field_tours$Страна,
limits = all_field_tours$Страна) +
coord_flip() +
theme_bw()
#Путешествие в России
In_Russian<-read_excel("Внутри России.xlsx")
Colors_in_russian <- rainbow(length(In_Russian$Округа))
Colors_in_russian <- c("black", Colors_in_russian[-1])
In_Russian_2022<-data.frame(Округ=In_Russian$Округа, ОбщееКоличество=In_Russian$'2022')
#без ggplot
#если убрать выбросы жесткие,  1000
In_Russian_2022<- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000<1000,]
plot(In_Russian_2022$ОбщееКоличество/1000, type="n", xaxt="n", xlim=c(0,length(In_Russian_2022$Округ)+20),
ylim=c(0,max(In_Russian_2022$ОбщееКоличество/1000)), xlab='', ylab="Количество человек (тыс.)",
main="Общее количесво человек, путешевствующих по областям в 2022 году")
points(1:nrow(In_Russian_2022), In_Russian_2022$ОбщееКоличество/1000, type="b", pch=19, col=Colors_in_russian)
axis(side = 1, at = 1:nrow(In_Russian_2022), tcl = 0.2, labels = FALSE)
legend("topright", legend = In_Russian$Округа[1:(nrow(In_Russian)/2)],
fill = Colors_in_russian[1:length(Colors_in_russian)/2], cex = 0.25)
legend(x=60, y = max(In_Russian_2022$ОбщееКоличество/1000), legend = In_Russian$Округа[(nrow(In_Russian)/2 + 1):nrow(In_Russian)],
fill = Colors_in_russian[(length(Colors_in_russian)/2 + 1):length(Colors_in_russian)], cex = 0.25)
#x = 68, y = 20900
# если убрать выбросы жесткие,  1000
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = seq_along(ОбщееКоличество), y = ОбщееКоличество / 1000, color = Округ)) +
geom_line(color = "black", size = 0.3) +
geom_point(shape = 19) +
scale_x_continuous(name = "", breaks = seq_along(In_Russian_2022$Округ)) +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw()
legend <- In_Russian %>% select(Округа) %>% unique()
ggplot2::guides(color = guide_legend(title = "Округа")) +
scale_color_manual(name = "Округа", values = Colors_in_russian)
# если убрать выбросы жесткие,  1000
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = Округ, y = ОбщееКоличество / 1000, fill = Округ)) +
geom_bar(stat = "identity", position = "dodge") +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw() +
theme(legend.position = "bottom")
#если убрать выбросы жесткие,  1000
In_Russian_2022<- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000<1000,]
plot(In_Russian_2022$ОбщееКоличество/1000, type="n", xaxt="n", xlim=c(0,length(In_Russian_2022$Округ)+20),
ylim=c(0,max(In_Russian_2022$ОбщееКоличество/1000)), xlab='', ylab="Количество человек (тыс.)",
main="Общее количесво человек, путешевствующих по областям в 2022 году")
points(1:nrow(In_Russian_2022), In_Russian_2022$ОбщееКоличество/1000, type="b", pch=19, col=Colors_in_russian)
axis(side = 1, at = 1:nrow(In_Russian_2022), tcl = 0.2, labels = FALSE)
legend("topright", legend = In_Russian$Округа[1:(nrow(In_Russian)/2)],
fill = Colors_in_russian[1:length(Colors_in_russian)/2], cex = 0.25)
legend(x=60, y = max(In_Russian_2022$ОбщееКоличество/1000), legend = In_Russian$Округа[(nrow(In_Russian)/2 + 1):nrow(In_Russian)],
fill = Colors_in_russian[(length(Colors_in_russian)/2 + 1):length(Colors_in_russian)], cex = 0.25)
#x = 68, y = 20900
#с ggplot
Colors_in_russian <- rainbow(length(In_Russian$Округа))
# если убрать выбросы жесткие,  1000
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = seq_along(ОбщееКоличество), y = ОбщееКоличество / 1000, color = Округ)) +
geom_line(color = "black", size = 0.3) +
geom_point(shape = 19) +
scale_x_continuous(name = "", breaks = seq_along(In_Russian_2022$Округ)) +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw()
legend <- In_Russian %>% select(Округа) %>% unique()
ggplot2::guides(color = guide_legend(title = "Округа")) +
scale_color_manual(name = "Округа", values = Colors_in_russian)
# если убрать выбросы жесткие,  1000
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = Округ, y = ОбщееКоличество / 1000, fill = Округ)) +
geom_bar(stat = "identity", position = "dodge") +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw() +
theme(legend.position = "bottom",axis.text.x = element_blank())
In_Russian_all <- read_excel("Внутри России общее.xlsx")
In_Russian_all <- In_Russian_all %>% mutate(row = row_number())
Color_in_Russian_all <- rainbow(length(In_Russian_all$Округа))
ggplot(In_Russian_all, aes(x = row, y = `2022` / 1000, color = Округа, group = 1)) +
geom_line(color = "black", size = 0.3) +
geom_point(shape = 19) +
scale_x_continuous(name = "", breaks = 1:nrow(In_Russian_all)) +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_all$'2022'/1000))) +
labs(title = "Общее количесво человек, путешевствующих по общим областям в 2022 году") +
theme_bw() +
guides(color=guide_legend(title="Округа")) +
scale_color_manual(name = "Округа", values = Color_in_Russian_all)
legend <- In_Russian_all %>% select(Округа) %>% unique()
ggplot2::guides(color=guide_legend(title="Округа")) +
scale_color_manual(name = "Округа", values = Color_in_Russian_all)
#с ggplot
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = Округ, y = ОбщееКоличество / 1000, fill = Округ)) +
geom_bar(stat = "identity", position = "dodge") +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw() +
theme(legend.position = "bottom",axis.text.x = element_blank())
#с ggplot
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = Округ, y = ОбщееКоличество / 1000, fill = Округа)) +
geom_bar(stat = "identity", position = "dodge") +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw() +
theme(legend.position = "bottom",axis.text.x = element_blank())
#с ggplot
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = Округ, y = ОбщееКоличество / 1000, fill = Округ)) +
geom_bar(stat = "identity", position = "dodge") +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw() +
theme(legend.position = "right",axis.text.x = element_blank())
#с ggplot
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = Округ, y = ОбщееКоличество / 1000, fill = Округ)) +
geom_bar(stat = "identity", position = "dodge") +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw() +
theme(legend.position = "bottom",axis.text.x = element_blank())
In_Russian_2022<-data.frame(Округ=In_Russian$Округа, ОбщееКоличество=In_Russian$'2022')
ggplot(In_Russian_2022, aes(x = Округ, y = ОбщееКоличество / 1000, fill = Округ)) +
geom_bar(stat = "identity", position = "dodge") +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw() +
theme(legend.position = "bottom",axis.text.x = element_blank())
In_Russian_2022 <- In_Russian_2022[In_Russian_2022$ОбщееКоличество/1000 < 1000,]
ggplot(In_Russian_2022, aes(x = Округ, y = ОбщееКоличество / 1000, fill = Округ)) +
geom_bar(stat = "identity", position = "dodge") +
scale_y_continuous(name = "Количество человек (тыс.)", limits = c(0, max(In_Russian_2022$ОбщееКоличество/1000))) +
labs(title = "Общее количесво человек, путешевствующих по областям в 2022 году") +
theme_bw() +
theme(legend.position = "bottom",axis.text.x = element_blank())
library(ggplot2)
# Данные для диаграммы pie
pie_data <- field_tours$'2020'
names(pie_data) <- field_tours$Страна
# Цвета для каждой страны
pie_colors <- field_tours_colors[match(names(pie_data), field_tours$Страна)]
# Создаем dataframe для диаграммы
pie_df <- data.frame(
country = names(pie_data),
value = pie_data,
color = pie_colors
)
# Рисуем диаграмму pie
ggplot(pie_df, aes(x = "", y = value, fill = color)) +
geom_bar(stat = "identity", width = 1, color = "white") +
coord_polar(theta = "y") +
labs(title = "Число выездных туристских поездок\nграждан России в зарубежные страны в 2020 году") +
scale_fill_identity() +
theme_void() +
theme(
legend.position = "bottom",
legend.text = element_text(size = 6),
legend.title = element_blank()
)
# Создаем легенду
legend_df1 <- field_tours[1:(nrow(field_tours)/2), ]
legend_df2 <- field_tours[(nrow(field_tours)/2 + 1):nrow(field_tours), ]
legend_df <- rbind(legend_df1, legend_df2)
ggplot(legend_df, aes(x = "", y = "", fill = Страна)) +
geom_bar(stat = "identity", width = 1, color = "white") +
labs(fill = "Страна") +
theme_void() +
theme(
legend.position = c(0.2, 0.8),
legend.text = element_text(size = 6),
legend.title = element_blank()
)
# Рисуем диаграмму pie
ggplot(pie_df, aes(x = "", y = value, fill = color)) +
geom_bar(stat = "identity", width = 1, color = "white") +
coord_polar(theta = "y") +
labs(title = "Число выездных туристских поездок\nграждан России в зарубежные страны в 2020 году") +
scale_fill_identity() +
theme_void() +
theme(
legend.position = "bottom",
legend.text = element_text(size = 6),
legend.title = element_blank()
)
# Создаем легенду
legend_df1 <- field_tours[1:(nrow(field_tours)/2), ]
legend_df2 <- field_tours[(nrow(field_tours)/2 + 1):nrow(field_tours), ]
legend_df <- rbind(legend_df1, legend_df2)
ggplot(legend_df, aes(x = "", y = "", fill = Страна)) +
geom_bar(stat = "identity", width = 1, color = "white") +
labs(fill = "Страна") +
theme_void() +
theme(
legend.position = c(0.2, 0.8),
legend.text = element_text(size = 6),
legend.title = element_blank()
)
